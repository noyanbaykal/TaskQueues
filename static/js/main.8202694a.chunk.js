(this["webpackJsonptask-queues"]=this["webpackJsonptask-queues"]||[]).push([[0],{130:function(e,t,a){e.exports=a(247)},135:function(e,t,a){},245:function(e,t,a){},247:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(25),c=a.n(o),r=(a(135),a(261)),i=a(255),u=a(8),s=a(258),m=a(53),d=a(259),f=a(257),E=a(32),g=Object.freeze({NO_CONTENT:"noContent",EDIT:"edit",DISPLAY:"display",NEED_CONFIRMATION:"needConfirmation"}),k=function(e){return e?g.DISPLAY:g.NO_CONTENT},h=function(e){return/^#([A-Fa-f0-9]{3}$)|([A-Fa-f0-9]{6}$)/.test(e)},p=function(){return"#".concat(Math.floor(16777215*Math.random()).toString(16)).padEnd(7,"0")};var v=function(e){var t=e.queue,a=e.handleCreate,o=e.handleEdit,c=e.handleDelete,r=e.handleView,i=e.active,v=t||{},b=v.id,T=v.pendingTasks,O=v.name,C=v.color,N=(T||[]).length,w=Object(n.useState)(k(t)),y=Object(u.a)(w,2),I=y[0],j=y[1],D=Object(n.useState)({}),S=Object(u.a)(D,2),Q=S[0],q=S[1],x=Object(n.useState)(O||""),A=Object(u.a)(x,2),F=A[0],R=A[1],L=Object(n.useState)(C||p()),M=Object(u.a)(L,2),P=M[0],_=M[1],B=Object(n.useState)(!1),V=Object(u.a)(B,2),Y=V[0],J=V[1],W=Object(n.useState)(!0),$=Object(u.a)(W,2),z=$[0],H=$[1];Object(n.useEffect)((function(){H((function(e){return!e}))}),[N]);var K=function(){q({name:F,color:P}),j(g.EDIT)},G=function(){J((function(e){return!e}))},U=function(){r(b)},X=function(){j(g.NEED_CONFIRMATION)},Z=function(){I===g.EDIT&&(R(Q.name),_(Q.color),q({})),j(k(t))},ee=function(){if(Q.name!==F||Q.color!==P){var e={name:F,color:P};b?(e.id=b,o(e)):(R(""),_(p()),a(e))}q({}),j(k(t))},te=function(){var e,t=(e=P,(.299*parseInt(e.substring(1,3),16)+.587*parseInt(e.substring(3,5),16)+.114*parseInt(e.substring(5,7),16))/255>.5?"#000000":"#ffffff"),a="1px ".concat("#ffffff"===t?"outset white":"solid black");return{backgroundColor:P,color:t,border:a}},ae=function(e,t){return l.a.createElement(f.a.Content,{extra:!0},l.a.createElement("button",{className:"left floated",onClick:e,disabled:!h(P)||!F||F.length<1||void 0},l.a.createElement(E.a,{className:"check"})),l.a.createElement("button",{className:"right floated",onClick:t},l.a.createElement(E.a,{className:"delete"})))};return l.a.createElement("div",{className:"Queue ".concat(I),style:{textAlign:"center"}}," ",I===g.NO_CONTENT?l.a.createElement("button",{onClick:K,style:{display:"inline-block",margin:"0 auto"}},l.a.createElement(E.a,{className:"plus circle"})):l.a.createElement(f.a,{style:{marginBottom:"1.2em"},onClick:G,tabIndex:I===g.DISPLAY?0:void 0,onKeyDown:function(){if(I===g.DISPLAY)return function(e){var t;(13===(t=e.target===e.currentTarget&&e.keyCode)||32===t)&&G()}}()},l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"ui tiny label",style:{backgroundColor:P}}),N>0&&l.a.createElement(s.a,{animation:"flash",duration:600,visible:z},l.a.createElement("div",{className:"ui circular label floating",style:te()},N)),I===g.EDIT&&l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{htmlFor:"color"},"Select a color in 3 or 6 digit hex format: #ffffff"),l.a.createElement(d.a,{id:"color",type:"text",title:"Enter Hex formatted color string",value:P,onChange:function(e){return _(e.target.value)},error:!h(P)||void 0}),l.a.createElement(m.a,{htmlFor:"name"},"Enter queue name:"),l.a.createElement(d.a,{id:"name",type:"text",value:F,onChange:function(e){return R(e.target.value)}})),I!==g.EDIT&&l.a.createElement(f.a.Content,null,l.a.createElement(f.a.Header,{textAlign:"center",style:{overflowWrap:"break-word"}},F)),I===g.NEED_CONFIRMATION&&l.a.createElement(m.a,null,"Are you sure you want to delete this Queue?")),i&&l.a.createElement(E.a,{className:"eye",style:{paddingLeft:"0.3em",paddingBottom:"1.5em"}}),I===g.DISPLAY?Y?l.a.createElement(f.a.Content,{extra:!0},l.a.createElement("button",{className:"left floated",onClick:K,style:{marginRight:"0.65em"}},l.a.createElement(E.a,{className:"pencil alternate"})),l.a.createElement("button",{className:"left floated",onClick:X},l.a.createElement(E.a,{className:"trash"})),l.a.createElement("button",{className:"right floated",onClick:U},l.a.createElement(E.a,{className:"eye"}))):null:I===g.EDIT?ae(ee,Z):I===g.NEED_CONFIRMATION?ae((function(){return c(b)}),Z):null))};var b=function(e){var t=e.taskInfo,a=e.queueDropdownOptions,o=e.handleCreate,c=e.handleEdit,r=e.handleDelete,i=e.handleComplete,h=Object(n.useState)(k(t)),p=Object(u.a)(h,2),v=p[0],b=p[1],T=t||{},O=T.queueName,C=T.queueId,N=T.id,w=T.color,y=T.text,I=T.completed,j=Object(n.useState)({}),D=Object(u.a)(j,2),S=D[0],Q=D[1],q=Object(n.useState)(y||""),x=Object(u.a)(q,2),A=x[0],F=x[1],R=Object(n.useState)(C||a[0].id),L=Object(u.a)(R,2),M=L[0],P=L[1],_=Object(n.useState)(!1),B=Object(u.a)(_,2),V=B[0],Y=B[1],J=Object(n.useState)(!0),W=Object(u.a)(J,2),$=W[0],z=W[1],H=function(){Q({text:A,queueId:M}),b(g.EDIT)},K=function(){b(g.NEED_CONFIRMATION)},G=function(){v===g.EDIT&&(F(S.text),P(S.queueId),Q({})),b(k(t))},U=function(e){M!==e.target.value&&P(e.target.value)},X=function(){S.text===A&&S.queueId===M||(N?c(M,N,A):(F(""),P(a[0].id),o(M,A))),Q({}),b(k(t))},Z=function(){b(k(t)),r(M,N)},ee=function(){z((function(e){return!e})),setTimeout((function(){b(k(t)),i(M,N)}),500)},te=function(e,t){return l.a.createElement(f.a.Content,{extra:!0},l.a.createElement("button",{className:"left floated",onClick:e,disabled:!A||A.length<1||void 0},l.a.createElement(E.a,{className:"check"})),l.a.createElement("button",{className:"right floated",onClick:t},l.a.createElement(E.a,{className:"delete"})))};return l.a.createElement("div",{className:"Task ".concat(v)},v===g.NO_CONTENT?l.a.createElement("div",{style:{textAlign:"center",paddingLeft:"0.8em"}},l.a.createElement("button",{onClick:H,style:{display:"inline-block",margin:"0 auto"}},l.a.createElement(E.a,{className:"plus circle"}))):l.a.createElement(s.a,{animation:"jiggle",duration:500,visible:$},l.a.createElement(f.a,{style:{marginBottom:"1em",borderLeft:"".concat("0.8em"," solid ").concat(w),opacity:I?.65:void 0},onClick:function(){if(!I)return function(){Y((function(e){return!e}))}}()},l.a.createElement(l.a.Fragment,null,v===g.EDIT&&l.a.createElement(l.a.Fragment,null,!C&&l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{htmlFor:"queue-select"},"Choose a Queue:"),l.a.createElement("select",{id:"queue-select",onChange:U},a.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.name)})))),l.a.createElement(m.a,{htmlFor:"task"},"Enter task"),l.a.createElement(d.a,{id:"task",type:"text",value:A,onChange:function(e){return F(e.target.value)}})),v!==g.EDIT&&l.a.createElement(f.a.Content,null,l.a.createElement("div",{style:{overflowWrap:"break-word",textAlign:"center",color:"black"}},A,I&&l.a.createElement(E.a,{className:"right floated green check"}))),v===g.NEED_CONFIRMATION&&l.a.createElement(m.a,null,function(e){return"Are you sure you want to delete this task, in queue: ".concat(e,"?")}(O))),v===g.DISPLAY?V?l.a.createElement(f.a.Content,{extra:!0},l.a.createElement("button",{onClick:H,style:{marginRight:"0.65em"}},l.a.createElement(E.a,{className:"pencil alternate"})),l.a.createElement("button",{onClick:K},l.a.createElement(E.a,{className:"trash"})),l.a.createElement("button",{className:"right floated",onClick:ee},l.a.createElement(E.a,{className:"check square outline"}))):null:v===g.EDIT?te(X,G):v===g.NEED_CONFIRMATION?te(Z,G):null)))};var T=function(e){var t=e.taskInfos,a=e.queueDropdownOptions,n=e.actionCreateTask,o=e.actionEditTask,c=e.actionDeleteTask,r=e.actionCompleteTask,i=function(){return l.a.createElement("div",{style:{marginBottom:"1em"}},"You have no pending tasks!")};return l.a.createElement("div",{className:"TaskList",style:{marginRight:"1em"}},t.length<1?l.a.createElement(l.a.Fragment,null,i()):l.a.createElement("div",null,t[0].completed&&i(),t.map((function(e){return l.a.createElement(b,{key:"".concat(e.id),taskInfo:e,queueDropdownOptions:a,handleCreate:n,handleEdit:o,handleDelete:c,handleComplete:r})}))),l.a.createElement(b,{queueDropdownOptions:a,handleCreate:n,handleEdit:o,handleDelete:c,handleComplete:r}))},O=a(17),C=a(260),N=a(120),w=a(121),y=new(function(){function e(){Object(N.a)(this,e)}return Object(w.a)(e,[{key:"setQueues",value:function(e){localStorage.setItem("queues",JSON.stringify(e))}},{key:"getQueues",value:function(){var e=JSON.parse(localStorage.getItem("queues"))||[];return new Promise((function(t,a){return t(e)}))}},{key:"removeQueues",value:function(){localStorage.removeItem("queues")}}]),e}()),I=Object.freeze({topTasks:"topTasks",allPendingTasks:"allPendingTasks",viewQueue:"viewQueue"}),j=function(e,t){return function(e,t,a){for(var n=0;n<e.length;n++)if(e[n][t]===a)return e[n]}(e,"id",t)};var D=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(I.topTasks),c=Object(u.a)(o,2),r=c[0],i=c[1],s=Object(n.useState)(void 0),m=Object(u.a)(s,2),d=m[0],f=m[1],E=Object(n.useState)(!1),g=Object(u.a)(E,2),k=g[0],h=g[1];Object(n.useEffect)((function(){y.getQueues().then((function(e){e.length>0&&f(e[0].id),l(e)}))}),[]);var p=function(e){l(e),y.setQueues(e)},v=function(e,t){return{queueName:e.name,queueId:e.id,id:t.id,color:e.color,text:t.text,completed:t.completed}},b=function(e){var t=[],n=j(a,e);return n?(n.pendingTasks.length>0&&t.push.apply(t,Object(O.a)(n.pendingTasks.map((function(e){return v(n,e)})))),k&&n.completedTasks.length>0&&t.push.apply(t,Object(O.a)(n.completedTasks.map((function(e){return v(n,e)})))),t):t},T=function(e,t,a,n){if(t.length>0){var l=t.length;n&&n<l&&(l=n);for(var o=0;o<l;o++)a.push(v(e,t[o]))}},N=function(e){for(var t=[],n=0;n<a.length;n++){var l=a[n];T(l,l.pendingTasks,t,e),k&&T(l,l.completedTasks,t,e)}return t};return{queues:a,viewModes:I,getCurrentView:function(){return r},getShowCompletedTasks:function(){return k},getTaskInfos:function(){switch(r){case I.viewQueue:return b(d);case I.allPendingTasks:return N();case I.topTasks:default:return N(1)}},getQueueDropdownOptions:function(){return a.map((function(e){return{name:e.name,id:e.id}}))},getSelectedQueueId:function(){return d},actionViewChange:function(e){r!==e&&i(e)},actionViewQueue:function(e){e&&(f(e),i(I.viewQueue))},actionToggleShowCompletedTasks:function(){h((function(e){return!e}))},actionCreateQueue:function(e){var t={name:e.name,color:e.color,id:Object(C.a)(),completedTasks:[],pendingTasks:[]},n=[].concat(Object(O.a)(a),[t]);p(n)},actionEditQueue:function(e){for(var t=e.id,n=e.name,l=e.color,o=Object(O.a)(a),c=0;c<o.length;c++)if(o[c].id===t){o[c].name=n,o[c].color=l;break}p(o)},actionDeleteQueue:function(e){var t=a.filter((function(t){return t.id!==e}));d===e&&(f(void 0),i(I.topTasks)),p(t)},actionCreateTask:function(e,t){var n=Object(O.a)(a),l=j(n,e);if(l){var o={id:Object(C.a)(),text:t};l.pendingTasks.push(o),p(n)}},actionEditTask:function(e,t,n){var l=Object(O.a)(a),o=j(l,e);o&&(j(o.pendingTasks,t).text=n,p(l))},actionDeleteTask:function(e,t){var n=Object(O.a)(a),l=j(n,e);l&&(l.pendingTasks=l.pendingTasks.filter((function(e){return e.id!==t})),p(n))},actionCompleteTask:function(e,t){var n,l=Object(O.a)(a),o=j(l,e);if(o){for(var c=0;c<o.pendingTasks.length;c++)if(o.pendingTasks[c].id===t){n=c;break}if(void 0!==n){var r=o.pendingTasks.splice(n,1),i=Object(u.a)(r,1)[0];i.completed=!0,o.completedTasks.unshift(i),p(l)}}}}};var S=function(){var e=D(),t=e.queues,a=e.viewModes,n=e.getCurrentView,o=e.getShowCompletedTasks,c=e.getTaskInfos,r=e.getQueueDropdownOptions,i=e.getSelectedQueueId,u=e.actionViewChange,s=e.actionViewQueue,m=e.actionToggleShowCompletedTasks,d=e.actionCreateQueue,f=e.actionEditQueue,E=e.actionDeleteQueue,g=e.actionCreateTask,k=e.actionEditTask,h=e.actionDeleteTask,p=e.actionCompleteTask,b=function(e,t,a,n){return l.a.createElement("div",null,l.a.createElement("input",{type:"radio",name:"viewRadio",id:e,value:a,style:{marginRight:"0.3em"},onChange:function(e){return u(e.target.value)},checked:C===a,disabled:n}),l.a.createElement("label",{htmlFor:e,style:{marginRight:"1em"}},t))},O=i(),C=n();return l.a.createElement("div",{className:"QueueList"},l.a.createElement("div",{className:"queueBar"},t.map((function(e){return l.a.createElement(v,{key:e.id,queue:e,handleCreate:d,handleEdit:f,handleDelete:E,handleView:s,active:O===e.id||void 0})})),t.length<1&&l.a.createElement("div",{style:{marginBottom:"1em"}},"Create a queue before adding tasks!"),l.a.createElement(v,{handleCreate:d,handleEdit:f,handleDelete:E,handleView:s})),l.a.createElement("div",{className:"mainPanel"},t.length>0&&l.a.createElement("div",{className:"controls",style:{marginBottom:"1em",display:"flex"}},l.a.createElement("div",{style:{marginRight:"0.5em"}},b("viewRadioTop","Top Tasks",a.topTasks),b("viewRadioAll","All Tasks",a.allPendingTasks),b("viewRadioQueue","View Queue",a.viewQueue,void 0===O)),l.a.createElement("div",null,l.a.createElement("input",{id:"showAllTasks",type:"checkbox",onChange:m,style:{marginLeft:"0.5em",marginRight:"0.3em"},checked:o()}),l.a.createElement("label",{htmlFor:"showAllTasks"},"Show completed tasks"))),t.length>0&&l.a.createElement(T,{taskInfos:c(),queueDropdownOptions:r(),actionCreateTask:g,actionEditTask:k,actionDeleteTask:h,actionCompleteTask:p})))};a(245);var Q=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(r.a,{as:"h1",style:{marginBottom:"0.1em"}},"Task Queues"),l.a.createElement(i.a,{style:{marginTop:"0.1em"}}),l.a.createElement(S,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(246);c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[130,1,2]]]);
//# sourceMappingURL=main.8202694a.chunk.js.map