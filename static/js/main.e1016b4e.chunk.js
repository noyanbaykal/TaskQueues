(this["webpackJsonptask-queues"]=this["webpackJsonptask-queues"]||[]).push([[0],{130:function(e,t,a){e.exports=a(247)},135:function(e,t,a){},245:function(e,t,a){},247:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(25),l=a.n(r),c=(a(135),a(262)),i=a(255),u=a(256),s=a(263),m=a(8),d=a(259),f=a(56),E=a(260),g=a(258),h=a(32);function k(e){var t=e.onCreate,a=Object(n.useState)("rgb(239, 239, 239)"),r=Object(m.a)(a,2),l=r[0],c=r[1];return o.a.createElement(g.a,{style:{textAlign:"center",boxShadow:"none"}},o.a.createElement("button",{onClick:t,style:{margin:"0 auto",backgroundColor:l},onMouseEnter:function(){return c("rgb(210, 210, 210)")},onMouseLeave:function(){return c("rgb(239, 239, 239)")}},o.a.createElement(h.a,{className:"plus circle"})))}var p=Object.freeze({NO_CONTENT:"noContent",EDIT:"edit",DISPLAY:"display",NEED_CONFIRMATION:"needConfirmation"}),v=function(e){return e?p.DISPLAY:p.NO_CONTENT},b=function(e){return/^#([A-Fa-f0-9]{3}$)|([A-Fa-f0-9]{6}$)/.test(e)},T=function(){return"#".concat(Math.floor(16777215*Math.random()).toString(16)).padEnd(7,"0")};var O=function(e){var t=e.queue,a=e.handleCreate,r=e.handleEdit,l=e.handleDelete,c=e.handleView,i=e.active,u=t||{},s=u.id,O=u.pendingTasks,C=u.name,N=u.color,w=(O||[]).length,j=Object(n.useState)(v(t)),I=Object(m.a)(j,2),y=I[0],D=I[1],S=Object(n.useState)({}),Q=Object(m.a)(S,2),q=Q[0],x=Q[1],A=Object(n.useState)(C||""),F=Object(m.a)(A,2),R=F[0],M=F[1],L=Object(n.useState)(N||T()),P=Object(m.a)(L,2),_=P[0],B=P[1],V=Object(n.useState)(!1),Y=Object(m.a)(V,2),J=Y[0],W=Y[1],$=Object(n.useState)(!0),z=Object(m.a)($,2),H=z[0],K=z[1];Object(n.useEffect)((function(){K((function(e){return!e}))}),[w]);var G=function(){x({name:R,color:_}),D(p.EDIT)},U=function(){W((function(e){return!e}))},X=function(){c(s)},Z=function(){D(p.NEED_CONFIRMATION)},ee=function(){y===p.EDIT&&(M(q.name),B(q.color),x({})),D(v(t))},te=function(){if(q.name!==R||q.color!==_){var e={name:R,color:_};s?(e.id=s,r(e)):(M(""),B(T()),a(e))}x({}),D(v(t))},ae=function(){var e,t=(e=_,(.299*parseInt(e.substring(1,3),16)+.587*parseInt(e.substring(3,5),16)+.114*parseInt(e.substring(5,7),16))/255>.5?"#000000":"#ffffff"),a="1px ".concat("#ffffff"===t?"outset white":"solid black");return{backgroundColor:_,color:t,border:a}},ne=function(e,t){return o.a.createElement(g.a.Content,{extra:!0},o.a.createElement("button",{className:"left floated",onClick:e,disabled:!b(_)||!R||R.length<1||void 0},o.a.createElement(h.a,{className:"check"})),o.a.createElement("button",{className:"right floated",onClick:t},o.a.createElement(h.a,{className:"delete"})))};return o.a.createElement("div",{className:"Queue ".concat(y)},y===p.NO_CONTENT?o.a.createElement(k,{onCreate:G}):o.a.createElement(g.a,{style:{marginBottom:"1.2em"},onClick:U,tabIndex:y===p.DISPLAY?0:void 0,onKeyDown:function(){if(y===p.DISPLAY)return function(e){var t;(13===(t=e.target===e.currentTarget&&e.keyCode)||32===t)&&U()}}()},o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"ui tiny label",style:{backgroundColor:_}}),w>0&&o.a.createElement(d.a,{animation:"flash",duration:600,visible:H},o.a.createElement("div",{className:"ui circular label floating",style:ae()},w)),y===p.EDIT&&o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{htmlFor:"color"},"Select a color in 3 or 6 digit hex format: #ffffff"),o.a.createElement(E.a,{id:"color",type:"text",title:"Enter Hex formatted color string",value:_,onChange:function(e){return B(e.target.value)},error:!b(_)||void 0}),o.a.createElement(f.a,{htmlFor:"name"},"Enter queue name:"),o.a.createElement(E.a,{id:"name",type:"text",value:R,onChange:function(e){return M(e.target.value)}})),y!==p.EDIT&&o.a.createElement(g.a.Content,null,o.a.createElement(g.a.Header,{textAlign:"center",style:{overflowWrap:"break-word"}},R)),y===p.NEED_CONFIRMATION&&o.a.createElement(f.a,null,"Are you sure you want to delete this Queue?")),i&&o.a.createElement(h.a,{className:"eye",style:{paddingLeft:"0.3em",paddingBottom:"1.5em"}}),y===p.DISPLAY?J?o.a.createElement(g.a.Content,{extra:!0},o.a.createElement("button",{className:"left floated",onClick:G,style:{marginRight:"0.65em"}},o.a.createElement(h.a,{className:"pencil alternate"})),o.a.createElement("button",{className:"left floated",onClick:Z},o.a.createElement(h.a,{className:"trash"})),o.a.createElement("button",{className:"right floated",onClick:X},o.a.createElement(h.a,{className:"eye"}))):null:y===p.EDIT?ne(te,ee):y===p.NEED_CONFIRMATION?ne((function(){return l(s)}),ee):null))};var C=function(e){var t=e.taskInfo,a=e.queueDropdownOptions,r=e.handleCreate,l=e.handleEdit,c=e.handleDelete,i=e.handleComplete,u=Object(n.useState)(v(t)),s=Object(m.a)(u,2),b=s[0],T=s[1],O=t||{},C=O.queueName,N=O.queueId,w=O.id,j=O.color,I=O.text,y=O.completed,D=Object(n.useState)({}),S=Object(m.a)(D,2),Q=S[0],q=S[1],x=Object(n.useState)(I||""),A=Object(m.a)(x,2),F=A[0],R=A[1],M=Object(n.useState)(N||a[0].id),L=Object(m.a)(M,2),P=L[0],_=L[1],B=Object(n.useState)(!1),V=Object(m.a)(B,2),Y=V[0],J=V[1],W=Object(n.useState)(!0),$=Object(m.a)(W,2),z=$[0],H=$[1],K=function(){q({text:F,queueId:P}),T(p.EDIT)},G=function(){T(p.NEED_CONFIRMATION)},U=function(){b===p.EDIT&&(R(Q.text),_(Q.queueId),q({})),T(v(t))},X=function(e){P!==e.target.value&&_(e.target.value)},Z=function(){Q.text===F&&Q.queueId===P||(w?l(P,w,F):(R(""),_(a[0].id),r(P,F))),q({}),T(v(t))},ee=function(){T(v(t)),c(P,w)},te=function(){H((function(e){return!e})),setTimeout((function(){T(v(t)),i(P,w)}),500)},ae=function(e,t){return o.a.createElement(g.a.Content,{extra:!0},o.a.createElement("button",{className:"left floated",onClick:e,disabled:!F||F.length<1||void 0},o.a.createElement(h.a,{className:"check"})),o.a.createElement("button",{className:"right floated",onClick:t},o.a.createElement(h.a,{className:"delete"})))};return o.a.createElement("div",{className:"Task ".concat(b)},b===p.NO_CONTENT?o.a.createElement(k,{onCreate:K}):o.a.createElement(d.a,{animation:"jiggle",duration:500,visible:z},o.a.createElement(g.a,{style:{marginBottom:"1em",borderLeft:"".concat("0.8em"," solid ").concat(j),opacity:y?.65:void 0},onClick:function(){if(!y)return function(){J((function(e){return!e}))}}()},o.a.createElement(o.a.Fragment,null,b===p.EDIT&&o.a.createElement(o.a.Fragment,null,!N&&o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{htmlFor:"queue-select"},"Choose a Queue:"),o.a.createElement("select",{id:"queue-select",onChange:X},a.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.name)})))),o.a.createElement(f.a,{htmlFor:"task"},"Enter task"),o.a.createElement(E.a,{id:"task",type:"text",value:F,onChange:function(e){return R(e.target.value)}})),b!==p.EDIT&&o.a.createElement(g.a.Content,null,o.a.createElement("div",{style:{overflowWrap:"break-word",textAlign:"center",color:"black"}},F,y&&o.a.createElement(h.a,{className:"right floated green check"}))),b===p.NEED_CONFIRMATION&&o.a.createElement(f.a,null,function(e){return"Are you sure you want to delete this task, in queue: ".concat(e,"?")}(C))),b===p.DISPLAY?Y?o.a.createElement(g.a.Content,{extra:!0},o.a.createElement("button",{onClick:K,style:{marginRight:"0.65em"}},o.a.createElement(h.a,{className:"pencil alternate"})),o.a.createElement("button",{onClick:G},o.a.createElement(h.a,{className:"trash"})),o.a.createElement("button",{className:"right floated",onClick:te},o.a.createElement(h.a,{className:"check square outline"}))):null:b===p.EDIT?ae(Z,U):b===p.NEED_CONFIRMATION?ae(ee,U):null)))};var N=function(e){var t=e.taskInfos,a=e.queueDropdownOptions,n=e.actionCreateTask,r=e.actionEditTask,l=e.actionDeleteTask,c=e.actionCompleteTask,i=function(){return o.a.createElement("div",{style:{marginBottom:"1em"}},"You have no pending tasks!")};return o.a.createElement("div",{className:"TaskList"},t.length<1?o.a.createElement(o.a.Fragment,null,i()):o.a.createElement("div",null,t[0].completed&&i(),t.map((function(e){return o.a.createElement(C,{key:"".concat(e.id),taskInfo:e,queueDropdownOptions:a,handleCreate:n,handleEdit:r,handleDelete:l,handleComplete:c})}))),o.a.createElement(C,{queueDropdownOptions:a,handleCreate:n,handleEdit:r,handleDelete:l,handleComplete:c}))},w=a(17),j=a(261),I=a(120),y=a(121),D=new(function(){function e(){Object(I.a)(this,e)}return Object(y.a)(e,[{key:"setQueues",value:function(e){localStorage.setItem("queues",JSON.stringify(e))}},{key:"getQueues",value:function(){var e=JSON.parse(localStorage.getItem("queues"))||[];return new Promise((function(t,a){return t(e)}))}},{key:"removeQueues",value:function(){localStorage.removeItem("queues")}}]),e}()),S=Object.freeze({topTasks:"topTasks",allPendingTasks:"allPendingTasks",viewQueue:"viewQueue"}),Q=function(e,t){return function(e,t,a){for(var n=0;n<e.length;n++)if(e[n][t]===a)return e[n]}(e,"id",t)};var q=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(S.topTasks),l=Object(m.a)(r,2),c=l[0],i=l[1],u=Object(n.useState)(void 0),s=Object(m.a)(u,2),d=s[0],f=s[1],E=Object(n.useState)(!1),g=Object(m.a)(E,2),h=g[0],k=g[1];Object(n.useEffect)((function(){D.getQueues().then((function(e){e.length>0&&f(e[0].id),o(e)}))}),[]);var p=function(e){o(e),D.setQueues(e)},v=function(e,t){return{queueName:e.name,queueId:e.id,id:t.id,color:e.color,text:t.text,completed:t.completed}},b=function(e){var t=[],n=Q(a,e);return n?(n.pendingTasks.length>0&&t.push.apply(t,Object(w.a)(n.pendingTasks.map((function(e){return v(n,e)})))),h&&n.completedTasks.length>0&&t.push.apply(t,Object(w.a)(n.completedTasks.map((function(e){return v(n,e)})))),t):t},T=function(e,t,a,n){if(t.length>0){var o=t.length;n&&n<o&&(o=n);for(var r=0;r<o;r++)a.push(v(e,t[r]))}},O=function(e){for(var t=[],n=0;n<a.length;n++){var o=a[n];T(o,o.pendingTasks,t,e),h&&T(o,o.completedTasks,t,e)}return t};return{queues:a,viewModes:S,getCurrentView:function(){return c},getShowCompletedTasks:function(){return h},getTaskInfos:function(){switch(c){case S.viewQueue:return b(d);case S.allPendingTasks:return O();case S.topTasks:default:return O(1)}},getQueueDropdownOptions:function(){return a.map((function(e){return{name:e.name,id:e.id}}))},getSelectedQueueId:function(){return d},actionViewChange:function(e){c!==e&&i(e)},actionViewQueue:function(e){e&&(f(e),i(S.viewQueue))},actionToggleShowCompletedTasks:function(){k((function(e){return!e}))},actionCreateQueue:function(e){var t={name:e.name,color:e.color,id:Object(j.a)(),completedTasks:[],pendingTasks:[]},n=[].concat(Object(w.a)(a),[t]);p(n)},actionEditQueue:function(e){for(var t=e.id,n=e.name,o=e.color,r=Object(w.a)(a),l=0;l<r.length;l++)if(r[l].id===t){r[l].name=n,r[l].color=o;break}p(r)},actionDeleteQueue:function(e){var t=a.filter((function(t){return t.id!==e}));d===e&&(f(void 0),i(S.topTasks)),p(t)},actionCreateTask:function(e,t){var n=Object(w.a)(a),o=Q(n,e);if(o){var r={id:Object(j.a)(),text:t};o.pendingTasks.push(r),p(n)}},actionEditTask:function(e,t,n){var o=Object(w.a)(a),r=Q(o,e);r&&(Q(r.pendingTasks,t).text=n,p(o))},actionDeleteTask:function(e,t){var n=Object(w.a)(a),o=Q(n,e);o&&(o.pendingTasks=o.pendingTasks.filter((function(e){return e.id!==t})),p(n))},actionCompleteTask:function(e,t){var n,o=Object(w.a)(a),r=Q(o,e);if(r){for(var l=0;l<r.pendingTasks.length;l++)if(r.pendingTasks[l].id===t){n=l;break}if(void 0!==n){var c=r.pendingTasks.splice(n,1),i=Object(m.a)(c,1)[0];i.completed=!0,r.completedTasks.unshift(i),p(o)}}}}};var x=function(){var e=q(),t=e.queues,a=e.viewModes,n=e.getCurrentView,r=e.getShowCompletedTasks,l=e.getTaskInfos,c=e.getQueueDropdownOptions,i=e.getSelectedQueueId,u=e.actionViewChange,m=e.actionViewQueue,d=e.actionToggleShowCompletedTasks,f=e.actionCreateQueue,E=e.actionEditQueue,g=e.actionDeleteQueue,h=e.actionCreateTask,k=e.actionEditTask,p=e.actionDeleteTask,v=e.actionCompleteTask,b=function(e,t,a,n){return o.a.createElement("div",null,o.a.createElement("input",{type:"radio",name:"viewRadio",id:e,value:a,style:{marginRight:"0.3em"},onChange:function(e){return u(e.target.value)},checked:C===a,disabled:n}),o.a.createElement("label",{htmlFor:e,style:{marginRight:"1em"}},t))},T=i(),C=n();return o.a.createElement(s.a,{className:"QueueList",columns:2,divided:!0},o.a.createElement(s.a.Row,null,o.a.createElement(s.a.Column,null,o.a.createElement("div",{className:"queueBar"},t.map((function(e){return o.a.createElement(O,{key:e.id,queue:e,handleCreate:f,handleEdit:E,handleDelete:g,handleView:m,active:T===e.id||void 0})})),t.length<1&&o.a.createElement("div",{style:{marginBottom:"1em"}},"Create a queue before adding tasks!"),o.a.createElement(O,{handleCreate:f,handleEdit:E,handleDelete:g,handleView:m}))),o.a.createElement(s.a.Column,null,o.a.createElement("div",{className:"mainPanel"},t.length>0&&o.a.createElement("div",{className:"controls",style:{marginBottom:"1em",display:"flex"}},o.a.createElement("div",{style:{marginRight:"0.5em"}},b("viewRadioTop","Top Tasks",a.topTasks),b("viewRadioAll","All Tasks",a.allPendingTasks),b("viewRadioQueue","View Queue",a.viewQueue,void 0===T)),o.a.createElement("div",null,o.a.createElement("input",{id:"showAllTasks",type:"checkbox",onChange:d,style:{marginLeft:"0.5em",marginRight:"0.3em"},checked:r()}),o.a.createElement("label",{htmlFor:"showAllTasks"},"Show completed tasks"))),t.length>0&&o.a.createElement(N,{taskInfos:l(),queueDropdownOptions:c(),actionCreateTask:h,actionEditTask:k,actionDeleteTask:p,actionCompleteTask:v})))))};a(245);var A=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(c.a,{as:"h1",style:{marginBottom:"0.1em"}},"Task Queues"),o.a.createElement(i.a,{style:{marginTop:"0.1em"}}),o.a.createElement(u.a,null,o.a.createElement(x,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(246);l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[130,1,2]]]);
//# sourceMappingURL=main.e1016b4e.chunk.js.map