(this["webpackJsonptask-queues"]=this["webpackJsonptask-queues"]||[]).push([[0],{130:function(e,t,n){e.exports=n(247)},135:function(e,t,n){},245:function(e,t,n){},247:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(25),c=n.n(r),l=(n(135),n(261)),i=n(255),u=n(256),s=n(262),d=n(8),m=n(260),f=n(56),g=n(259),p=n(258),b=n(32),E=function(e,t){return"Are you sure you want to delete the ".concat(e,": ").concat(t,"?")},k=function(e,t){return"".concat(e,": ").concat(t)};function v(e){var t=e.onCreate,n=e.ariaLabel,r=Object(a.useState)("rgb(239, 239, 239)"),c=Object(d.a)(r,2),l=c[0],i=c[1];return o.a.createElement(p.a,{style:{textAlign:"center",boxShadow:"none"}},o.a.createElement("button",{"aria-label":n,onClick:t,style:{margin:"0 auto",backgroundColor:l},onMouseEnter:function(){return i("rgb(210, 210, 210)")},onMouseLeave:function(){return i("rgb(239, 239, 239)")}},o.a.createElement(b.a,{className:"plus circle"})))}var h=Object.freeze({NO_CONTENT:"noContent",EDIT:"edit",DISPLAY:"display",NEED_CONFIRMATION:"needConfirmation"}),T=function(e){return e?h.DISPLAY:h.NO_CONTENT},C=function(e,t,n,a){return o.a.createElement(p.a.Content,{extra:!0},o.a.createElement("button",{"aria-label":k(a,"Confirm"),className:"left floated",onClick:e,disabled:n},o.a.createElement(b.a,{className:"check"})),o.a.createElement("button",{"aria-label":k(a,"Cancel"),className:"right floated",onClick:t},o.a.createElement(b.a,{className:"delete"})))};var O=function(e){var t=e.children,n=e.content,r=e.componentName,c=e.ariaLabelIdentifier,l=e.cardTransition,i=e.getCardContent,u=e.getEditContent,s=e.getDisplayContent,g=e.deleteLabel,E=e.cardStyle,O=e.specialButtonIcon,w=e.specialButtonFunction,y=e.specialButtonAfterFunction,N=e.specialButtonLabel,j=e.confirmDisabled,I=e.storeBeforeInput,D=e.resetAfterInput,S=e.deleteHandler,Q=e.modalHandler,x=e.enableClick,A=e.enableKeyboardClick,q="Create ".concat(r),B=function(e){return"".concat(e,": Toggle Buttons")}(c),F=Object(a.useState)(T(n)),L=Object(d.a)(F,2),R=L[0],M=L[1],P=Object(a.useState)(!1),V=Object(d.a)(P,2),H=V[0],_=V[1],Y=function(){I(),M(h.EDIT)},J=function(){M(h.NEED_CONFIRMATION)},K=function(){Q(),M(T(n))},W=function(){R===h.EDIT&&D(),M(T(n))},$=function(){M(T(n)),S()},z=function(){if(O&&w&&(w(),y&&l)){var e=l.duration;setTimeout((function(){M(T(n)),y()}),e)}},G=function(){return R===h.DISPLAY?H?function(e,t,n,a,r,c){return o.a.createElement(p.a.Content,{extra:!0},o.a.createElement("button",{"aria-label":k(r,"Edit"),onClick:e,style:{marginRight:"0.65em"}},o.a.createElement(b.a,{className:"pencil alternate"})),o.a.createElement("button",{"aria-label":k(r,"Delete"),onClick:t},o.a.createElement(b.a,{className:"trash"})),a&&o.a.createElement("button",{"aria-label":k(r,c),className:"right floated",onClick:a},o.a.createElement(b.a,{className:n})))}(Y,J,O,z,c,N):null:R===h.EDIT?C(K,W,j,c):R===h.NEED_CONFIRMATION?C($,W,void 0,c):null},U=function(){if(x)return function(){Z()}},X=function(e){if(x&&A)return function(e){var t;e.target===e.currentTarget&&(13===(t=e.keyCode)||32===t)&&R===h.DISPLAY&&Z()}},Z=function(){_((function(e){return!e}))},ee=function(){return o.a.createElement(p.a,{"aria-label":B,role:"button",style:E,onClick:U(),tabIndex:x&&A&&R===h.DISPLAY?0:void 0,onKeyDown:X()},o.a.createElement(o.a.Fragment,null,i&&i(),R===h.EDIT&&o.a.createElement(o.a.Fragment,null,u()),R!==h.EDIT&&o.a.createElement(o.a.Fragment,null,s()),R===h.NEED_CONFIRMATION&&o.a.createElement(f.a,null,g)),t,G())};return o.a.createElement("div",{className:"".concat(r," ").concat(R)},R===h.NO_CONTENT?o.a.createElement(v,{onCreate:Y,ariaLabel:q}):function(){if(l){var e=l.type,t=l.duration,n=l.visible;return o.a.createElement(m.a,{animation:e,duration:t,visible:n},ee())}return ee()}())},w=function(e){return/^#([A-Fa-f0-9]{3}$)|([A-Fa-f0-9]{6}$)/.test(e)},y=function(){return"#".concat(Math.floor(16777215*Math.random()).toString(16)).padEnd(7,"0")},N={marginBottom:"1.2em"},j="New ".concat("Queue"),I="Enter ".concat("Queue"," name:");var D=function(e){var t=e.queue,n=e.handleCreate,r=e.handleEdit,c=e.handleDelete,l=e.handleView,i=e.active,u=t||{},s=u.id,k=u.pendingTasks,v=u.name,h=u.color,T=(k||[]).length,C=Object(a.useState)({}),D=Object(d.a)(C,2),S=D[0],Q=D[1],x=Object(a.useState)(v||""),A=Object(d.a)(x,2),q=A[0],B=A[1],F=Object(a.useState)(h||y()),L=Object(d.a)(F,2),R=L[0],M=L[1],P=Object(a.useState)(!0),V=Object(d.a)(P,2),H=V[0],_=V[1];Object(a.useEffect)((function(){_((function(e){return!e}))}),[T]);var Y=function(){var e,t=(e=R,(.299*parseInt(e.substring(1,3),16)+.587*parseInt(e.substring(3,5),16)+.114*parseInt(e.substring(5,7),16))/255>.5?"#000000":"#ffffff"),n="1px ".concat("#ffffff"===t?"outset white":"solid black");return{backgroundColor:R,color:t,border:n}};return o.a.createElement(O,{content:t,componentName:"Queue",ariaLabelIdentifier:t?t.name:j,getCardContent:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"ui tiny label",style:{backgroundColor:R}}),T>0&&o.a.createElement(m.a,{animation:"flash",duration:600,visible:H},o.a.createElement("div",{className:"ui circular label floating",style:Y()},T)))},getEditContent:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{htmlFor:"color"},"Select a color in 3 or 6 digit hex format: #ffffff"),o.a.createElement(g.a,{id:"color",type:"text",title:"Enter Hex formatted color string",value:R,onChange:function(e){return M(e.target.value)},error:!w(R)||void 0}),o.a.createElement(f.a,{htmlFor:"name"},I),o.a.createElement(g.a,{id:"name",type:"text",value:q,onChange:function(e){return B(e.target.value)}}))},getDisplayContent:function(){return o.a.createElement(p.a.Content,null,o.a.createElement(p.a.Header,{textAlign:"center",style:{overflowWrap:"break-word"}},q))},deleteLabel:E("Queue",q),cardStyle:N,specialButtonIcon:"eye",specialButtonFunction:function(){l(s)},specialButtonLabel:"View",confirmDisabled:!w(R)||!q||q.length<1||void 0,storeBeforeInput:function(){Q({name:q,color:R})},resetAfterInput:function(){B(S.name),M(S.color),Q({})},deleteHandler:function(){return c(s)},modalHandler:function(){if(S.name!==q||S.color!==R){var e={name:q,color:R};s?(e.id=s,r(e)):(n(e),B(""),M(y())),Q({})}},enableClick:!0,enableKeyboardClick:!0},i&&o.a.createElement(b.a,{className:"eye",style:{paddingLeft:"0.3em",paddingBottom:"1.5em"}}))},S="New ".concat("Task"),Q=function(e,t){return{marginBottom:"1em",borderLeft:"".concat("0.8em"," solid ").concat(e),opacity:t?.65:void 0}};var x=function(e){var t=e.taskInfo,n=e.index,r=e.queueDropdownOptions,c=e.handleCreate,l=e.handleEdit,i=e.handleDelete,u=e.handleComplete,s=e.parentObjectName,m=t||{},E=m.queueName,k=m.queueId,v=m.id,h=m.color,T=m.text,C=m.completed,w="Choose a ".concat(s),y="Enter ".concat("Task"),N=function(e,t,n,a){return"Are you sure you want to delete this ".concat(e,", current index: ").concat(a,", in ").concat(t,": ").concat(n,"?")}("Task",s,E,n),j=Object(a.useState)({}),I=Object(d.a)(j,2),D=I[0],x=I[1],A=Object(a.useState)(T||""),q=Object(d.a)(A,2),B=q[0],F=q[1],L=Object(a.useState)(k||r[0].id),R=Object(d.a)(L,2),M=R[0],P=R[1],V=Object(a.useState)(!0),H=Object(d.a)(V,2),_=H[0],Y=H[1],J={type:"jiggle",duration:500,visible:_},K=function(e){M!==e.target.value&&P(e.target.value)};return o.a.createElement(O,{content:t,componentName:"Task",ariaLabelIdentifier:n?"".concat("Task"," ").concat(n):S,cardTransition:J,getEditContent:function(){return o.a.createElement(o.a.Fragment,null,!k&&o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{htmlFor:"queue-select"},w),o.a.createElement("select",{id:"queue-select",onChange:K},r.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.name)})))),o.a.createElement(f.a,{htmlFor:"task"},y),o.a.createElement(g.a,{id:"task",type:"text",value:B,onChange:function(e){return F(e.target.value)}}))},getDisplayContent:function(){return o.a.createElement(p.a.Content,null,o.a.createElement("div",{style:{overflowWrap:"break-word",textAlign:"center",color:"black"}},B,C&&o.a.createElement(b.a,{className:"right floated green check"})))},deleteLabel:N,cardStyle:Q(h,C),specialButtonIcon:"check square outline",specialButtonFunction:function(){Y((function(e){return!e}))},specialButtonAfterFunction:function(){u(M,v)},specialButtonLabel:"Complete",confirmDisabled:!B||B.length<1||void 0,storeBeforeInput:function(){x({text:B,queueId:M})},resetAfterInput:function(){F(D.text),P(D.queueId),x({})},deleteHandler:function(){i(M,v)},modalHandler:function(){D.text===B&&D.queueId===M||(v?l(M,v,B):(c(M,B),F(""),P(r[0].id)),x({}))},enableClick:!C,enableKeyboardClick:!0})},A="You have no pending ".concat("Task","s!");var q=function(e){var t=e.taskInfos,n=e.parentObjectName,a=e.queueDropdownOptions,r=e.actionCreateTask,c=e.actionEditTask,l=e.actionDeleteTask,i=e.actionCompleteTask,u=function(){return o.a.createElement("div",{style:{marginBottom:"1em"}},A)};return o.a.createElement("div",{className:"TaskList"},t.length<1?o.a.createElement(o.a.Fragment,null,u()):o.a.createElement("div",null,t[0].completed&&u(),t.map((function(e,t){return o.a.createElement(x,{key:"".concat(e.id),taskInfo:e,index:t+1,queueDropdownOptions:a,handleCreate:r,handleEdit:c,handleDelete:l,handleComplete:i,parentObjectName:n})}))),o.a.createElement(x,{queueDropdownOptions:a,handleCreate:r,handleEdit:c,handleDelete:l,handleComplete:i,parentObjectName:n}))},B=n(17),F=n(263),L=n(120),R=n(121),M=new(function(){function e(){Object(L.a)(this,e)}return Object(R.a)(e,[{key:"setQueues",value:function(e){localStorage.setItem("queues",JSON.stringify(e))}},{key:"getQueues",value:function(){var e=JSON.parse(localStorage.getItem("queues"))||[];return new Promise((function(t,n){return t(e)}))}},{key:"removeQueues",value:function(){localStorage.removeItem("queues")}}]),e}()),P=Object.freeze({topTasks:"topTasks",allPendingTasks:"allPendingTasks",viewQueue:"viewQueue"}),V=function(e,t){return function(e,t,n){for(var a=0;a<e.length;a++)if(e[a][t]===n)return e[a]}(e,"id",t)};var H,_=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(P.topTasks),c=Object(d.a)(r,2),l=c[0],i=c[1],u=Object(a.useState)(void 0),s=Object(d.a)(u,2),m=s[0],f=s[1],g=Object(a.useState)(!1),p=Object(d.a)(g,2),b=p[0],E=p[1];Object(a.useEffect)((function(){M.getQueues().then((function(e){e.length>0&&f(e[0].id),o(e)}))}),[]);var k=function(e){o(e),M.setQueues(e)},v=function(e,t){return{queueName:e.name,queueId:e.id,id:t.id,color:e.color,text:t.text,completed:t.completed}},h=function(e){var t=[],a=V(n,e);return a?(a.pendingTasks.length>0&&t.push.apply(t,Object(B.a)(a.pendingTasks.map((function(e){return v(a,e)})))),b&&a.completedTasks.length>0&&t.push.apply(t,Object(B.a)(a.completedTasks.map((function(e){return v(a,e)})))),t):t},T=function(e,t,n,a){if(t.length>0){var o=t.length;a&&a<o&&(o=a);for(var r=0;r<o;r++)n.push(v(e,t[r]))}},C=function(e){for(var t=[],a=0;a<n.length;a++){var o=n[a];T(o,o.pendingTasks,t,e),b&&T(o,o.completedTasks,t,e)}return t};return{queues:n,viewModes:P,getCurrentView:function(){return l},getShowCompletedTasks:function(){return b},getTaskInfos:function(){switch(l){case P.viewQueue:return h(m);case P.allPendingTasks:return C();case P.topTasks:default:return C(1)}},getQueueDropdownOptions:function(){return n.map((function(e){return{name:e.name,id:e.id}}))},getSelectedQueueId:function(){return m},actionViewChange:function(e){l!==e&&i(e)},actionViewQueue:function(e){e&&(f(e),i(P.viewQueue))},actionToggleShowCompletedTasks:function(){E((function(e){return!e}))},actionCreateQueue:function(e){var t={name:e.name,color:e.color,id:Object(F.a)(),completedTasks:[],pendingTasks:[]},a=[].concat(Object(B.a)(n),[t]);k(a)},actionEditQueue:function(e){for(var t=e.id,a=e.name,o=e.color,r=Object(B.a)(n),c=0;c<r.length;c++)if(r[c].id===t){r[c].name=a,r[c].color=o;break}k(r)},actionDeleteQueue:function(e){var t=n.filter((function(t){return t.id!==e}));m===e&&(f(void 0),i(P.topTasks)),k(t)},actionCreateTask:function(e,t){var a=Object(B.a)(n),o=V(a,e);if(o){var r={id:Object(F.a)(),text:t};o.pendingTasks.push(r),k(a)}},actionEditTask:function(e,t,a){var o=Object(B.a)(n),r=V(o,e);r&&(V(r.pendingTasks,t).text=a,k(o))},actionDeleteTask:function(e,t){var a=Object(B.a)(n),o=V(a,e);o&&(o.pendingTasks=o.pendingTasks.filter((function(e){return e.id!==t})),k(a))},actionCompleteTask:function(e,t){var a,o=Object(B.a)(n),r=V(o,e);if(r){for(var c=0;c<r.pendingTasks.length;c++)if(r.pendingTasks[c].id===t){a=c;break}if(void 0!==a){var l=r.pendingTasks.splice(a,1),i=Object(d.a)(l,1)[0];i.completed=!0,r.completedTasks.unshift(i),k(o)}}}}},Y=function(e){return"Top ".concat(e,"s")}("Task"),J=function(e){return"All ".concat(e,"s")}("Task"),K=function(e){return"View ".concat(e)}("Queue"),W=function(e){return"Show completed ".concat(e,"s")}("Task"),$=(H="Task","Create a ".concat("Queue"," before adding ").concat(H,"s!"));var z=function(){var e=_(),t=e.queues,n=e.viewModes,a=e.getCurrentView,r=e.getShowCompletedTasks,c=e.getTaskInfos,l=e.getQueueDropdownOptions,i=e.getSelectedQueueId,u=e.actionViewChange,d=e.actionViewQueue,m=e.actionToggleShowCompletedTasks,f=e.actionCreateQueue,g=e.actionEditQueue,p=e.actionDeleteQueue,b=e.actionCreateTask,E=e.actionEditTask,k=e.actionDeleteTask,v=e.actionCompleteTask,h=function(e,t,n,a){return o.a.createElement("div",null,o.a.createElement("input",{type:"radio",name:"viewRadio",id:e,value:n,style:{marginRight:"0.3em"},onChange:function(e){return u(e.target.value)},checked:C===n,disabled:a}),o.a.createElement("label",{htmlFor:e,style:{marginRight:"1em"}},t))},T=i(),C=a();return o.a.createElement(s.a,{className:"QueueList",columns:2,divided:!0},o.a.createElement(s.a.Row,null,o.a.createElement(s.a.Column,null,o.a.createElement("div",{className:"queueBar"},t.map((function(e){return o.a.createElement(D,{key:e.id,queue:e,handleCreate:f,handleEdit:g,handleDelete:p,handleView:d,active:T===e.id||void 0})})),t.length<1&&o.a.createElement("div",{style:{marginBottom:"1em"}},$),o.a.createElement(D,{handleCreate:f,handleEdit:g,handleDelete:p,handleView:d}))),o.a.createElement(s.a.Column,null,o.a.createElement("div",{className:"mainPanel"},t.length>0&&o.a.createElement("div",{className:"controls",style:{marginBottom:"1em",display:"flex"}},o.a.createElement("div",{style:{marginRight:"0.5em"}},h("viewRadioTop",Y,n.topTasks),h("viewRadioAll",J,n.allPendingTasks),h("viewRadioQueue",K,n.viewQueue,void 0===T)),o.a.createElement("div",null,o.a.createElement("input",{id:"showAllTasks",type:"checkbox",onChange:m,style:{marginLeft:"0.5em",marginRight:"0.3em"},checked:r()}),o.a.createElement("label",{htmlFor:"showAllTasks"},W))),t.length>0&&o.a.createElement(q,{taskInfos:c(),parentObjectName:"Queue",queueDropdownOptions:l(),actionCreateTask:b,actionEditTask:E,actionDeleteTask:k,actionCompleteTask:v})))))};n(245);var G=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(l.a,{as:"h1",style:{marginBottom:"0.1em"}},"Task Queues"),o.a.createElement(i.a,{style:{marginTop:"0.1em"}}),o.a.createElement(u.a,null,o.a.createElement(z,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(246);c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[130,1,2]]]);
//# sourceMappingURL=main.9061c199.chunk.js.map